import NavLink from "../components/NavLink"
import Wrapper from "../components/Wrapper"
import Logo from "../components/Logo"

import { useContext, useEffect, useState } from "react"
import { UtilContext } from "/src/contexts/UtilContext"


function Header() {
    const {observeElements} = useContext(UtilContext);
    const [navLinks, setNavLinks] = useState([
	{
	    text:"Home",
	    route:"/",
	    element:"#hero",
	    isActive:true
	},
	{
	    text:"Initiatives",
	    route:"/",
	    element:"#initiatives",
	    isActive:false
	},
	{
	    text:"Volunteer",
	    route:"/",
	    element:"#volunteer",
	    isActive:false
	},
    ])

    useEffect(()=>{
	const documentEl = document.documentElement;
	document.body.onscroll = () => {
	    navLinks.forEach((link, i) => {
		let el = document.querySelector(link.element)
		if (el.offsetTop < documentEl.scrollTop + innerHeight && el.offsetTop > documentEl.scrollTop) {
		    console.log(link.text + " is Active!!")

		} else {
		    console.log(link.text + " is NOT active")
		}

	    })
	}
    }, [])

    return (
	<>
	    <div className="top-0 w-full flex justify-center items-center h-[10vh] fixed bg-background z-10">
		<Wrapper className="h-full flex justify-between items-center">
		    <Logo className="h-full py-4" />
		    <div className="hidden lg:flex space-x-6">
			{
			    navLinks.map((navLink, id) => (
				<NavLink key={id} route={navLink.route} element={navLink.element} text={navLink.text} isActive={navLink.isActive}/>
			    ))
			}
			<NavLink text="Donate"/>
			<NavLink text="Girl Up AI"/>
		    </div>
		</Wrapper>
	    </div>
	    <div className="h-[10vh] z-[-10]">
	    </div>
	</>
    )
}

export default Header;
